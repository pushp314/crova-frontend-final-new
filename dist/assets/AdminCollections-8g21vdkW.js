import{r as s,a as c,j as e,L as o,p,z as y}from"./index-D7lwuD4-.js";import{P as f}from"./plus-bSVgMRYU.js";import{E as j}from"./eye-Bf6U-b92.js";import{S as N}from"./square-pen-zB8MA1fa.js";import{T as b}from"./trash-2-DGiZsAJM.js";const L=()=>{const[r,a]=s.useState([]),[m,n]=s.useState(!0),[l,h]=s.useState("");s.useEffect(()=>{g()},[]);const g=async()=>{n(!0);try{const{data:t}=await c.get("/collections");a(t.data?.collections||t.collections||[])}catch(t){console.error("Error fetching collections:",t)}finally{n(!1)}},u=async t=>{if(confirm("Are you sure you want to delete this collection?"))try{await c.delete(`/admin/collections/${t}`),a(r.filter(i=>i.id!==t))}catch(i){console.error("Error deleting collection:",i);try{await c.delete(`/collections/${t}`),a(r.filter(x=>x.id!==t))}catch{y.error("Failed to delete collection")}}},d=r.filter(t=>t.title.toLowerCase().includes(l.toLowerCase())||t.slug.toLowerCase().includes(l.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Collections"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your curated collections"})]}),e.jsxs(o,{to:"/admin/collections/new",className:"flex items-center gap-2 px-4 py-2.5 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:[e.jsx(f,{className:"w-4 h-4"}),"New Collection"]})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search collections...",value:l,onChange:t=>h(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent"})]})}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:m?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-black border-t-transparent rounded-full mx-auto"}),e.jsx("p",{className:"text-gray-500 mt-4",children:"Loading collections..."})]}):d.length===0?e.jsx("div",{className:"p-8 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No collections found"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collection"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Theme"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:d.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex-shrink-0 overflow-hidden",children:t.image?e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-400",children:"No Img"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:["/",t.slug]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-200",style:{backgroundColor:t.theme.startsWith("#")?t.theme:void 0},title:t.theme,children:!t.theme.startsWith("#")&&e.jsx("div",{className:`w-full h-full rounded-full ${t.theme}`})}),e.jsx("span",{className:"text-sm text-gray-600",children:t.theme})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:t.stats}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(o,{to:`/collections/${t.slug}`,target:"_blank",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View",children:e.jsx(j,{className:"w-4 h-4 text-gray-600"})}),e.jsx(o,{to:`/admin/collections/${t.id}/edit`,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:e.jsx(N,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{onClick:()=>u(t.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:e.jsx(b,{className:"w-4 h-4 text-red-600"})})]})})]},t.id))})]})})})]})};export{L as default};
